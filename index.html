<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Python-bayes-redis : A Redis backend Naive Bayes Classifier in Python" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Python-bayes-redis</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/tistaharahap/python-bayes-redis">View on GitHub</a>

          <h1 id="project_title">Python-bayes-redis</h1>
          <h2 id="project_tagline">A Redis backend Naive Bayes Classifier in Python</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/tistaharahap/python-bayes-redis/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/tistaharahap/python-bayes-redis/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="simple-naive-bayes-classifier---python" class="anchor" href="#simple-naive-bayes-classifier---python"><span class="octicon octicon-link"></span></a>Simple Naive Bayes Classifier - Python</h1>

<p>Naive Bayes Classifier is an algorithm to classify texts into sets that is always learning.</p>

<p>The most obvious practical use of it is for Email Spam/Ham Detection.</p>

<h2>
<a name="motivation" class="anchor" href="#motivation"><span class="octicon octicon-link"></span></a>Motivation</h2>

<p>There is a really good video piece in Youtube <a href="http://www.youtube.com/watch?v=yvDCzhbjYWs">here</a> by <a href="http://en.wikipedia.org/wiki/Peter_Norvig">Peter Norvig</a>, Director of Research at Google. He spoke about The Unreasonable Effectiveness of Data.</p>

<p>Another great piece about the algorithm explained in plain English is by <a href="https://www.bionicspirit.com/pages/about.html">Alexander Nedelcu</a> with his <a href="http://bionicspirit.com/blog/2012/02/09/howto-build-naive-bayes-classifier.html">blog post here</a>.</p>

<h2>
<a name="cython" class="anchor" href="#cython"><span class="octicon octicon-link"></span></a>Cython</h2>

<p>Parts of the code where it is applicable are optimized to leverage Cython Static Typing. The speed bump by doing so are notably significant. Please take a look below for benchmark timings.</p>

<h2>
<a name="how-to-develop" class="anchor" href="#how-to-develop"><span class="octicon octicon-link"></span></a>How To Develop</h2>

<p>If you are cloning the source code from Github or by downloading from PyPi, please have a look at <code>BayesRedis/__init__.pyx</code> for the main source file.</p>

<h2>
<a name="implementation" class="anchor" href="#implementation"><span class="octicon octicon-link"></span></a>Implementation</h2>

<p>Before meddling with Python, I translated Alexander's implementation in Ruby to PHP available <a href="https://github.com/tistaharahap/Simple-Naive-Bayes-Classifier-for-PHP">here</a>.</p>

<p>Benchmarking my oven fresh PHP implementation at the time, <a href="http://redis.io">Redis</a> was the only answer to achieve sub-second results. I tried MySQL and MongoDB before Redis.</p>

<h2>
<a name="external-dependencies" class="anchor" href="#external-dependencies"><span class="octicon octicon-link"></span></a>External Dependencies</h2>

<ul>
<li>Redis <a href="http://redis.io">http://redis.io</a>
</li>
<li>[Optional - For Data Import only] MySQL Python Connector <a href="http://dev.mysql.com/doc/connector-python/en/index.html">http://dev.mysql.com/doc/connector-python/en/index.html</a>
</li>
</ul><h2>
<a name="installation-and-configuration" class="anchor" href="#installation-and-configuration"><span class="octicon octicon-link"></span></a>Installation and Configuration</h2>

<div class="highlight"><pre><span class="nv">$ </span>sudo pip install bayesredis
</pre></div>

<p>Expecting Redis is installed locally:</p>

<div class="highlight"><pre><span class="kn">from</span> <span class="nn">BayesRedis</span> <span class="kn">import</span> <span class="n">Classifier</span>

<span class="n">bayes</span> <span class="o">=</span> <span class="n">Classifier</span><span class="p">({</span>
    <span class="s">'host'</span><span class="p">:</span> <span class="s">'127.0.0.1'</span><span class="p">,</span>
    <span class="s">'port'</span><span class="p">:</span> <span class="mi">6379</span><span class="p">,</span>
    <span class="s">'db'</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
</pre></div>

<p>The 2 main methods are classify and train like so:</p>

<div class="highlight"><pre><span class="n">bayes</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="s">'block of text'</span><span class="p">,</span> <span class="s">'set'</span><span class="p">);</span>
<span class="n">bayes</span><span class="o">.</span><span class="n">classify</span><span class="p">(</span><span class="s">'query'</span><span class="p">)</span>
</pre></div>

<h2>
<a name="use-examples" class="anchor" href="#use-examples"><span class="octicon octicon-link"></span></a>Use Examples</h2>

<p>Please take a look at <a href="https://github.com/tistaharahap/python-bayes-redis/blob/master/test.py">test.py</a> for executing the classifier.</p>

<p>To import data using MySQL, take a look at <a href="https://github.com/tistaharahap/python-bayes-redis/blob/master/test-import-mysql.py">test-import-mysql.py</a>.</p>

<h2>
<a name="performance" class="anchor" href="#performance"><span class="octicon octicon-link"></span></a>Performance</h2>

<p>The gear and spec used to test performance is below:</p>

<ul>
<li>Macbook Pro Early 2011</li>
<li>Intel Core i5 2.3 GHz</li>
<li>8 GB PC-10600 DDR3 RAM</li>
<li>SSD</li>
<li>Redis v2.6.13 compiled from source</li>
<li>Python v2.7.2</li>
</ul><p>The data sets is as below:</p>

<ul>
<li>1,212 Sets</li>
<li>311,525 Keywords</li>
</ul><p>Classifying Time:</p>

<ul>
<li>1 Keyword - PHP @ 0.01428 second - Python 2.7.2 Mac @ 0.008646 second</li>
<li>2 Keywords - PHP @ 0.02171 second - Python 2.7.2 Mac @ 0.012975 second</li>
<li>3 Keywords - PHP @ 0.04062 second - Python 2.7.2 Mac @ 0.018261 second</li>
<li>65 Keywords - Python 2.7.2 Mac @ 0.342203 second</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Python-bayes-redis maintained by <a href="https://github.com/tistaharahap">tistaharahap</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
